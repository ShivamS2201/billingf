-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://redmine.postgresql.org/projects/pgadmin4/issues/new if you find any bugs, including reproduction steps.
-- The schema can be created using this file see using this in PHP Myadmin once
BEGIN;


CREATE TABLE IF NOT EXISTS public.api_currency
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    name character varying(90) COLLATE pg_catalog."default" NOT NULL,
    "type_C" character varying(50) COLLATE pg_catalog."default" NOT NULL,
    datetime timestamp with time zone NOT NULL,
    status boolean NOT NULL,
    CONSTRAINT api_currency_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.api_export
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    name character varying(90) COLLATE pg_catalog."default" NOT NULL,
    datetime timestamp with time zone NOT NULL,
    status boolean NOT NULL,
    CONSTRAINT api_export_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.api_register_dealer
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    dealer_name character varying(90) COLLATE pg_catalog."default" NOT NULL,
    datetime timestamp with time zone NOT NULL,
    "customer_Bool" boolean NOT NULL,
    status boolean NOT NULL,
    CONSTRAINT api_register_dealer_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.api_statecodes
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    state_name character varying(90) COLLATE pg_catalog."default" NOT NULL,
    state_code integer NOT NULL,
    status boolean NOT NULL,
    CONSTRAINT api_statecodes_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.auth_group
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    name character varying(150) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT auth_group_pkey PRIMARY KEY (id),
    CONSTRAINT auth_group_name_key UNIQUE (name)
);

CREATE TABLE IF NOT EXISTS public.auth_group_permissions
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    group_id integer NOT NULL,
    permission_id integer NOT NULL,
    CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id),
    CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id)
);

CREATE TABLE IF NOT EXISTS public.auth_permission
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT auth_permission_pkey PRIMARY KEY (id),
    CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename)
);

CREATE TABLE IF NOT EXISTS public.bills_bill_account_type
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    account_type_name character varying(20) COLLATE pg_catalog."default" NOT NULL,
    date_time timestamp with time zone NOT NULL,
    status boolean NOT NULL,
    CONSTRAINT bills_bill_account_type_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.bills_bill_banks
(
    created_at timestamp with time zone NOT NULL,
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    bank_name character varying(100) COLLATE pg_catalog."default" NOT NULL,
    account_num integer NOT NULL,
    ifsc_code character varying(20) COLLATE pg_catalog."default" NOT NULL,
    "Branch" character varying(20) COLLATE pg_catalog."default" NOT NULL,
    open_balance character varying(10) COLLATE pg_catalog."default" NOT NULL,
    "Primary_type" boolean NOT NULL,
    modify_date timestamp with time zone NOT NULL,
    account_type_id bigint NOT NULL,
    "gstNumber" character varying(15) COLLATE pg_catalog."default" NOT NULL,
    user_id_id bigint NOT NULL,
    "StateCode_id" bigint NOT NULL,
    CONSTRAINT bills_bill_banks_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.bills_bill_cash
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    cash_name character varying(100) COLLATE pg_catalog."default" NOT NULL,
    cash_balance integer NOT NULL,
    add_date timestamp with time zone NOT NULL,
    modify_date timestamp with time zone NOT NULL,
    user_id_id bigint NOT NULL,
    CONSTRAINT bills_bill_cash_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.bills_bill_messages
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    message character varying(500) COLLATE pg_catalog."default" NOT NULL,
    "ShortId" character varying(100) COLLATE pg_catalog."default" NOT NULL,
    "timestamp" timestamp with time zone NOT NULL,
    CONSTRAINT bills_bill_messages_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.bills_category
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    cat_name character varying(100) COLLATE pg_catalog."default" NOT NULL,
    "timeStamp" timestamp with time zone NOT NULL,
    status boolean NOT NULL,
    master_id_id bigint NOT NULL,
    CONSTRAINT bills_category_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.bills_customer
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    cust_name character varying(150) COLLATE pg_catalog."default" NOT NULL,
    cust_code character varying(10) COLLATE pg_catalog."default" NOT NULL,
    "Image" character varying(100) COLLATE pg_catalog."default" NOT NULL,
    cust_pincode integer NOT NULL,
    cust_mobile character varying(12) COLLATE pg_catalog."default" NOT NULL,
    cust_landline character varying(12) COLLATE pg_catalog."default" NOT NULL,
    cust_email character varying(150) COLLATE pg_catalog."default" NOT NULL,
    address character varying(50) COLLATE pg_catalog."default" NOT NULL,
    cust_is_reg boolean NOT NULL,
    cust_gst character varying(15) COLLATE pg_catalog."default" NOT NULL,
    export_option boolean NOT NULL,
    created_by character varying(10) COLLATE pg_catalog."default" NOT NULL,
    created_at timestamp with time zone NOT NULL,
    modified_by character varying(10) COLLATE pg_catalog."default" NOT NULL,
    modified_date timestamp with time zone NOT NULL,
    status boolean NOT NULL,
    cust_currency_id bigint NOT NULL,
    cust_dealer_type_id bigint NOT NULL,
    cust_group_id bigint NOT NULL,
    cust_place_id bigint NOT NULL,
    cust_state_id_id bigint NOT NULL,
    export_type_id bigint NOT NULL,
    master_id_id bigint NOT NULL,
    cust_pan character varying(10) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT bills_customer_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.bills_customerlimit
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    is_limit_cond boolean NOT NULL,
    amount integer NOT NULL,
    "cust_openingBalance" integer NOT NULL,
    sales_type character varying(15) COLLATE pg_catalog."default" NOT NULL,
    rcm boolean NOT NULL,
    created_at timestamp with time zone NOT NULL,
    cust_id_id bigint NOT NULL,
    user_id_id bigint NOT NULL,
    CONSTRAINT bills_customerlimit_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.bills_group
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    cust_grp character varying(100) COLLATE pg_catalog."default" NOT NULL,
    "timeStamp" timestamp with time zone NOT NULL,
    status boolean NOT NULL,
    master_id_id bigint NOT NULL,
    CONSTRAINT bills_group_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.bills_places
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    place_name character varying(100) COLLATE pg_catalog."default" NOT NULL,
    "timeStamp" timestamp with time zone NOT NULL,
    status boolean NOT NULL,
    master_id_id bigint NOT NULL,
    CONSTRAINT bills_places_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.django_admin_log
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    action_time timestamp with time zone NOT NULL,
    object_id text COLLATE pg_catalog."default",
    object_repr character varying(200) COLLATE pg_catalog."default" NOT NULL,
    action_flag smallint NOT NULL,
    change_message text COLLATE pg_catalog."default" NOT NULL,
    content_type_id integer,
    user_id bigint NOT NULL,
    CONSTRAINT django_admin_log_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.django_content_type
(
    id integer NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 2147483647 CACHE 1 ),
    app_label character varying(100) COLLATE pg_catalog."default" NOT NULL,
    model character varying(100) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT django_content_type_pkey PRIMARY KEY (id),
    CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model)
);

CREATE TABLE IF NOT EXISTS public.django_migrations
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    app character varying(255) COLLATE pg_catalog."default" NOT NULL,
    name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    applied timestamp with time zone NOT NULL,
    CONSTRAINT django_migrations_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.django_session
(
    session_key character varying(40) COLLATE pg_catalog."default" NOT NULL,
    session_data text COLLATE pg_catalog."default" NOT NULL,
    expire_date timestamp with time zone NOT NULL,
    CONSTRAINT django_session_pkey PRIMARY KEY (session_key)
);

CREATE TABLE IF NOT EXISTS public.user_bill_manage_info
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    reason character varying(100) COLLATE pg_catalog."default" NOT NULL,
    cin_number character varying(100) COLLATE pg_catalog."default" NOT NULL,
    sms_credit integer NOT NULL,
    sms_debit integer NOT NULL,
    system_credit integer NOT NULL,
    system_debit integer NOT NULL,
    whatsapp_credit integer NOT NULL,
    whatsapp_debit integer NOT NULL,
    shortname character varying(50) COLLATE pg_catalog."default" NOT NULL,
    pan_card character varying(16) COLLATE pg_catalog."default" NOT NULL,
    is_regdealer boolean NOT NULL,
    "stateCode_id" bigint NOT NULL,
    "gstNum" character varying(15) COLLATE pg_catalog."default" NOT NULL,
    reg_dealer_type integer NOT NULL,
    pin_code integer NOT NULL,
    status_type integer NOT NULL,
    kyc character varying(50) COLLATE pg_catalog."default" NOT NULL,
    "landlineNUM" character varying(12) COLLATE pg_catalog."default" NOT NULL,
    "actual_billQty" boolean NOT NULL,
    edit_status boolean NOT NULL,
    last_updated timestamp with time zone NOT NULL,
    user_id_id bigint NOT NULL,
    CONSTRAINT user_bill_manage_info_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.user_newuser
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    password character varying(128) COLLATE pg_catalog."default" NOT NULL,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    email character varying(254) COLLATE pg_catalog."default" NOT NULL,
    user_name character varying(150) COLLATE pg_catalog."default" NOT NULL,
    first_name character varying(150) COLLATE pg_catalog."default" NOT NULL,
    "distID" integer NOT NULL,
    salesid integer NOT NULL,
    hd_id integer NOT NULL,
    renew_year integer NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    role_id character varying(50) COLLATE pg_catalog."default" NOT NULL,
    joining_date timestamp with time zone NOT NULL,
    last_ip inet NOT NULL,
    updated_at timestamp with time zone NOT NULL,
    sess_token character varying(10) COLLATE pg_catalog."default" NOT NULL,
    owner_id integer NOT NULL,
    CONSTRAINT user_newuser_pkey PRIMARY KEY (id),
    CONSTRAINT user_newuser_email_key UNIQUE (email),
    CONSTRAINT user_newuser_user_name_key UNIQUE (user_name)
);

CREATE TABLE IF NOT EXISTS public.user_newuser_groups
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    newuser_id bigint NOT NULL,
    group_id integer NOT NULL,
    CONSTRAINT user_newuser_groups_pkey PRIMARY KEY (id),
    CONSTRAINT user_newuser_groups_newuser_id_group_id_116b15b4_uniq UNIQUE (newuser_id, group_id)
);

CREATE TABLE IF NOT EXISTS public.user_newuser_user_permissions
(
    id bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 9223372036854775807 CACHE 1 ),
    newuser_id bigint NOT NULL,
    permission_id integer NOT NULL,
    CONSTRAINT user_newuser_user_permissions_pkey PRIMARY KEY (id),
    CONSTRAINT user_newuser_user_permis_newuser_id_permission_id_0d88cc6f_uniq UNIQUE (newuser_id, permission_id)
);

ALTER TABLE IF EXISTS public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id)
    REFERENCES public.auth_permission (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS auth_group_permissions_permission_id_84c5c92e
    ON public.auth_group_permissions(permission_id);


ALTER TABLE IF EXISTS public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id)
    REFERENCES public.auth_group (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS auth_group_permissions_group_id_b120cbf9
    ON public.auth_group_permissions(group_id);


ALTER TABLE IF EXISTS public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id)
    REFERENCES public.django_content_type (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS auth_permission_content_type_id_2f476e4b
    ON public.auth_permission(content_type_id);


ALTER TABLE IF EXISTS public.bills_bill_banks
    ADD CONSTRAINT "bills_bill_banks_StateCode_id_dc88ca21_fk_api_statecodes_id" FOREIGN KEY ("StateCode_id")
    REFERENCES public.api_statecodes (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS "bills_bill_banks_StateCode_id_dc88ca21"
    ON public.bills_bill_banks("StateCode_id");


ALTER TABLE IF EXISTS public.bills_bill_banks
    ADD CONSTRAINT bills_bill_banks_account_type_id_527b65cd_fk_bills_bil FOREIGN KEY (account_type_id)
    REFERENCES public.bills_bill_account_type (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_bill_banks_account_type_id_527b65cd
    ON public.bills_bill_banks(account_type_id);


ALTER TABLE IF EXISTS public.bills_bill_banks
    ADD CONSTRAINT bills_bill_banks_user_id_id_93f8667f_fk_user_newuser_id FOREIGN KEY (user_id_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_bill_banks_user_id_id_93f8667f
    ON public.bills_bill_banks(user_id_id);


ALTER TABLE IF EXISTS public.bills_bill_cash
    ADD CONSTRAINT bills_bill_cash_user_id_id_74c61178_fk_user_newuser_id FOREIGN KEY (user_id_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_bill_cash_user_id_id_74c61178
    ON public.bills_bill_cash(user_id_id);


ALTER TABLE IF EXISTS public.bills_category
    ADD CONSTRAINT bills_category_master_id_id_621d1b59_fk_user_newuser_id FOREIGN KEY (master_id_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_category_master_id_id_621d1b59
    ON public.bills_category(master_id_id);


ALTER TABLE IF EXISTS public.bills_customer
    ADD CONSTRAINT bills_customer_cust_currency_id_0f7de359_fk_api_currency_id FOREIGN KEY (cust_currency_id)
    REFERENCES public.api_currency (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customer_cust_currency_id_0f7de359
    ON public.bills_customer(cust_currency_id);


ALTER TABLE IF EXISTS public.bills_customer
    ADD CONSTRAINT bills_customer_cust_dealer_type_id_8daaed65_fk_api_regis FOREIGN KEY (cust_dealer_type_id)
    REFERENCES public.api_register_dealer (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customer_cust_dealer_type_id_8daaed65
    ON public.bills_customer(cust_dealer_type_id);


ALTER TABLE IF EXISTS public.bills_customer
    ADD CONSTRAINT bills_customer_cust_group_id_e4e835d0_fk_bills_group_id FOREIGN KEY (cust_group_id)
    REFERENCES public.bills_group (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customer_cust_group_id_e4e835d0
    ON public.bills_customer(cust_group_id);


ALTER TABLE IF EXISTS public.bills_customer
    ADD CONSTRAINT bills_customer_cust_place_id_86818f5e_fk_bills_places_id FOREIGN KEY (cust_place_id)
    REFERENCES public.bills_places (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customer_cust_place_id_86818f5e
    ON public.bills_customer(cust_place_id);


ALTER TABLE IF EXISTS public.bills_customer
    ADD CONSTRAINT bills_customer_cust_state_id_id_30adb1b5_fk_api_statecodes_id FOREIGN KEY (cust_state_id_id)
    REFERENCES public.api_statecodes (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customer_cust_state_id_id_30adb1b5
    ON public.bills_customer(cust_state_id_id);


ALTER TABLE IF EXISTS public.bills_customer
    ADD CONSTRAINT bills_customer_export_type_id_4cf0f51d_fk_api_export_id FOREIGN KEY (export_type_id)
    REFERENCES public.api_export (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customer_export_type_id_4cf0f51d
    ON public.bills_customer(export_type_id);


ALTER TABLE IF EXISTS public.bills_customer
    ADD CONSTRAINT bills_customer_master_id_id_06ddab49_fk_user_newuser_id FOREIGN KEY (master_id_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customer_master_id_id_06ddab49
    ON public.bills_customer(master_id_id);


ALTER TABLE IF EXISTS public.bills_customerlimit
    ADD CONSTRAINT bills_customerlimit_cust_id_id_0ed94fd8_fk_bills_customer_id FOREIGN KEY (cust_id_id)
    REFERENCES public.bills_customer (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customerlimit_cust_id_id_0ed94fd8
    ON public.bills_customerlimit(cust_id_id);


ALTER TABLE IF EXISTS public.bills_customerlimit
    ADD CONSTRAINT bills_customerlimit_user_id_id_c1a4c97d_fk_user_newuser_id FOREIGN KEY (user_id_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_customerlimit_user_id_id_c1a4c97d
    ON public.bills_customerlimit(user_id_id);


ALTER TABLE IF EXISTS public.bills_group
    ADD CONSTRAINT bills_group_master_id_id_9593a2b4_fk_user_newuser_id FOREIGN KEY (master_id_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_group_master_id_id_9593a2b4
    ON public.bills_group(master_id_id);


ALTER TABLE IF EXISTS public.bills_places
    ADD CONSTRAINT bills_places_master_id_id_01b0169b_fk_user_newuser_id FOREIGN KEY (master_id_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS bills_places_master_id_id_01b0169b
    ON public.bills_places(master_id_id);


ALTER TABLE IF EXISTS public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id)
    REFERENCES public.django_content_type (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS django_admin_log_content_type_id_c4bce8eb
    ON public.django_admin_log(content_type_id);


ALTER TABLE IF EXISTS public.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_user_newuser_id FOREIGN KEY (user_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS django_admin_log_user_id_c564eba6
    ON public.django_admin_log(user_id);


ALTER TABLE IF EXISTS public.user_bill_manage_info
    ADD CONSTRAINT "user_bill_manage_inf_stateCode_id_a2b14915_fk_api_state" FOREIGN KEY ("stateCode_id")
    REFERENCES public.api_statecodes (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS "user_bill_manage_info_stateCode_id_a2b14915"
    ON public.user_bill_manage_info("stateCode_id");


ALTER TABLE IF EXISTS public.user_bill_manage_info
    ADD CONSTRAINT user_bill_manage_info_user_id_id_7718cc72_fk_user_newuser_id FOREIGN KEY (user_id_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS user_bill_manage_info_user_id_id_7718cc72
    ON public.user_bill_manage_info(user_id_id);


ALTER TABLE IF EXISTS public.user_newuser_groups
    ADD CONSTRAINT user_newuser_groups_group_id_87904fc4_fk_auth_group_id FOREIGN KEY (group_id)
    REFERENCES public.auth_group (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS user_newuser_groups_group_id_87904fc4
    ON public.user_newuser_groups(group_id);


ALTER TABLE IF EXISTS public.user_newuser_groups
    ADD CONSTRAINT user_newuser_groups_newuser_id_b9d09c0a_fk_user_newuser_id FOREIGN KEY (newuser_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS user_newuser_groups_newuser_id_b9d09c0a
    ON public.user_newuser_groups(newuser_id);


ALTER TABLE IF EXISTS public.user_newuser_user_permissions
    ADD CONSTRAINT user_newuser_user_pe_newuser_id_a12c88e0_fk_user_newu FOREIGN KEY (newuser_id)
    REFERENCES public.user_newuser (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS user_newuser_user_permissions_newuser_id_a12c88e0
    ON public.user_newuser_user_permissions(newuser_id);


ALTER TABLE IF EXISTS public.user_newuser_user_permissions
    ADD CONSTRAINT user_newuser_user_pe_permission_id_814ca736_fk_auth_perm FOREIGN KEY (permission_id)
    REFERENCES public.auth_permission (id) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE NO ACTION
    DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX IF NOT EXISTS user_newuser_user_permissions_permission_id_814ca736
    ON public.user_newuser_user_permissions(permission_id);

END;